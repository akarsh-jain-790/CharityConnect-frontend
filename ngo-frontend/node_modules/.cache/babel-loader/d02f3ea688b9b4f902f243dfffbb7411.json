{"ast":null,"code":"import _slicedToArray from\"/Volumes/T7/IT_Days/ngo-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import BookItem from'../Components/BookItem';import Slider from'../Components/Slider';import{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from'react-redux';import{fetchAllBooks}from\"../../redux/Slices/bookSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Homepage(){var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.book;}),book=_useSelector.book,totalPages=_useSelector.totalPages,currentPage=_useSelector.currentPage,pending=_useSelector.pending,error=_useSelector.error,error_message=_useSelector.error_message,success_message=_useSelector.success_message;var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),booksToShow=_useState4[0],setbooksToShow=_useState4[1];useEffect(function(){dispatch(fetchAllBooks(page));},[page]);useEffect(function(){setbooksToShow(function(prevValue){return prevValue.concat(book);});},[book]);var handleShowMoreBooks=function handleShowMoreBooks(){setPage(function(prevValue){return prevValue+1;});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Slider,{}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"catalog__nav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"catalog__select-wrap\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"catalog__select\",name:\"genres\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All genres\",children:\"All genres\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Action/Adventure\",children:\"Action/Adventure\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Animals\",children:\"Animals\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Animation\",children:\"Animation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Biography\",children:\"Biography\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Comedy\",children:\"Comedy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cooking\",children:\"Cooking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dance\",children:\"Dance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Documentary\",children:\"Documentary\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Drama\",children:\"Drama\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Education\",children:\"Education\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Entertainment\",children:\"Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Family\",children:\"Family\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Fantasy\",children:\"Fantasy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"History\",children:\"History\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Horror\",children:\"Horror\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Independent\",children:\"Independent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"International\",children:\"International\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kids & Family\",children:\"Kids & Family\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medical\",children:\"Medical\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Military/War\",children:\"Military/War\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Music\",children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mystery/Crime\",children:\"Mystery/Crime\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nature\",children:\"Nature\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Paranormal\",children:\"Paranormal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Politics\",children:\"Politics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Racing\",children:\"Racing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Romance\",children:\"Romance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sci-Fi/Horror\",children:\"Sci-Fi/Horror\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Science\",children:\"Science\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Science Fiction\",children:\"Science Fiction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Science/Nature\",children:\"Science/Nature\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Travel\",children:\"Travel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Western\",children:\"Western\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"catalog__select\",name:\"years\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All the years\",children:\"All the years\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"'50s\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"'60s\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"'70s\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"'80s\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"'90s\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"2000-10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"2010-20\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8\",children:\"2021\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider-radio\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"grade\",id:\"featured\",checked:\"checked\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"featured\",children:\"Featured\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"grade\",id:\"popular\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"popular\",children:\"Popular\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"grade\",id:\"newest\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newest\",children:\"Newest\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row row--grid\",children:booksToShow.map(function(bookItem){return/*#__PURE__*/_jsx(BookItem,{book:bookItem},bookItem._id);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"catalog__more\",style:{display:totalPages===currentPage?'none':'block'},type:\"button\",onClick:handleShowMoreBooks,children:\"Load more\"})})})]})})]});}","map":{"version":3,"names":["BookItem","Slider","useState","useEffect","Link","useNavigate","useDispatch","useSelector","fetchAllBooks","Homepage","navigate","state","book","totalPages","currentPage","pending","error","error_message","success_message","dispatch","page","setPage","booksToShow","setbooksToShow","prevValue","concat","handleShowMoreBooks","map","bookItem","_id","display"],"sources":["/Volumes/T7/IT_Days/ngo-frontend/src/Pages/Home/HomePage.jsx"],"sourcesContent":["import BookItem from '../Components/BookItem';\nimport Slider from '../Components/Slider';\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchAllBooks } from \"../../redux/Slices/bookSlice\";\n\nexport default function Homepage() {\n\tlet navigate = useNavigate();\n\tconst { book, totalPages, currentPage, pending, error, error_message, success_message } = useSelector((state) => state.book);\n\tconst dispatch = useDispatch();\n\n\tconst [page, setPage] = useState(1);\n\tconst [booksToShow, setbooksToShow] = useState([]);\n\n\tuseEffect(() => {\n\t\tdispatch(fetchAllBooks(page));\n\t}, [page]);\n\n\tuseEffect(() => {\n\t\tsetbooksToShow((prevValue) => prevValue.concat(book));\n\t}, [book]);\n\n\tconst handleShowMoreBooks = () => {\n\t\tsetPage((prevValue) => prevValue + 1);\n\t};\n\n    return (\n\t\t<>\n\t\t<Slider/>\n        <div className=\"catalog\">\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<div className=\"catalog__nav\">\n\t\t\t\t\t\t<div className=\"catalog__select-wrap\">\n\t\t\t\t\t\t\t<select className=\"catalog__select\" name=\"genres\">\n\t\t\t\t\t\t\t\t<option value=\"All genres\">All genres</option>\n\t\t\t\t\t\t\t\t<option value=\"Action/Adventure\">Action/Adventure</option>\n\t\t\t\t\t\t\t\t<option value=\"Animals\">Animals</option>\n\t\t\t\t\t\t\t\t<option value=\"Animation\">Animation</option>\n\t\t\t\t\t\t\t\t<option value=\"Biography\">Biography</option>\n\t\t\t\t\t\t\t\t<option value=\"Comedy\">Comedy</option>\n\t\t\t\t\t\t\t\t<option value=\"Cooking\">Cooking</option>\n\t\t\t\t\t\t\t\t<option value=\"Dance\">Dance</option>\n\t\t\t\t\t\t\t\t<option value=\"Documentary\">Documentary</option>\n\t\t\t\t\t\t\t\t<option value=\"Drama\">Drama</option>\n\t\t\t\t\t\t\t\t<option value=\"Education\">Education</option>\n\t\t\t\t\t\t\t\t<option value=\"Entertainment\">Entertainment</option>\n\t\t\t\t\t\t\t\t<option value=\"Family\">Family</option>\n\t\t\t\t\t\t\t\t<option value=\"Fantasy\">Fantasy</option>\n\t\t\t\t\t\t\t\t<option value=\"History\">History</option>\n\t\t\t\t\t\t\t\t<option value=\"Horror\">Horror</option>\n\t\t\t\t\t\t\t\t<option value=\"Independent\">Independent</option>\n\t\t\t\t\t\t\t\t<option value=\"International\">International</option>\n\t\t\t\t\t\t\t\t<option value=\"Kids & Family\">Kids & Family</option>\n\t\t\t\t\t\t\t\t<option value=\"Medical\">Medical</option>\n\t\t\t\t\t\t\t\t<option value=\"Military/War\">Military/War</option>\n\t\t\t\t\t\t\t\t<option value=\"Music\">Music</option>\n\t\t\t\t\t\t\t\t<option value=\"Mystery/Crime\">Mystery/Crime</option>\n\t\t\t\t\t\t\t\t<option value=\"Nature\">Nature</option>\n\t\t\t\t\t\t\t\t<option value=\"Paranormal\">Paranormal</option>\n\t\t\t\t\t\t\t\t<option value=\"Politics\">Politics</option>\n\t\t\t\t\t\t\t\t<option value=\"Racing\">Racing</option>\n\t\t\t\t\t\t\t\t<option value=\"Romance\">Romance</option>\n\t\t\t\t\t\t\t\t<option value=\"Sci-Fi/Horror\">Sci-Fi/Horror</option>\n\t\t\t\t\t\t\t\t<option value=\"Science\">Science</option>\n\t\t\t\t\t\t\t\t<option value=\"Science Fiction\">Science Fiction</option>\n\t\t\t\t\t\t\t\t<option value=\"Science/Nature\">Science/Nature</option>\n\t\t\t\t\t\t\t\t<option value=\"Travel\">Travel</option>\n\t\t\t\t\t\t\t\t<option value=\"Western\">Western</option>\n\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t<select className=\"catalog__select\" name=\"years\">\n\t\t\t\t\t\t\t\t<option value=\"All the years\">All the years</option>\n\t\t\t\t\t\t\t\t<option value=\"1\">'50s</option>\n\t\t\t\t\t\t\t\t<option value=\"2\">'60s</option>\n\t\t\t\t\t\t\t\t<option value=\"3\">'70s</option>\n\t\t\t\t\t\t\t\t<option value=\"4\">'80s</option>\n\t\t\t\t\t\t\t\t<option value=\"5\">'90s</option>\n\t\t\t\t\t\t\t\t<option value=\"6\">2000-10</option>\n\t\t\t\t\t\t\t\t<option value=\"7\">2010-20</option>\n\t\t\t\t\t\t\t\t<option value=\"8\">2021</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"slider-radio\">\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"grade\" id=\"featured\" checked=\"checked\" /><label htmlFor=\"featured\">Featured</label>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"grade\" id=\"popular\" /><label htmlFor=\"popular\">Popular</label>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"grade\" id=\"newest\" /><label htmlFor=\"newest\">Newest</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"row row--grid\">\n\t\t\t\t\t\t{booksToShow.map((bookItem)=>{\n\t\t\t\t\t\t\t\treturn <BookItem key={bookItem._id} book={bookItem}/>\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\t\t\n\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<button className=\"catalog__more\" style={{display: totalPages === currentPage? 'none' : 'block'}} type=\"button\" onClick={handleShowMoreBooks}>Load more</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t</>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}