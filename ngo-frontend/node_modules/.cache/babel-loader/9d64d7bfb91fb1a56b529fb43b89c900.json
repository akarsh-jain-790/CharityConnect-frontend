{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst baseUrl = `http://localhost:4000/api/v1`;\n/**\n  * @asyncThunk Login function\n  * @desc manage the user state when user log-in\n  * @param  string $user - user state\n  * @return returns user data in case of success and in case of error return error message.\n*/\n\nexport const fetchAllBooks = createAsyncThunk(\"books/getBooks\", async page => {\n  const response = await fetch(`${baseUrl}/books/getBooks/?page=${page}&limit=6`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  const json = await response.json();\n\n  if (response.ok) {\n    return json;\n  } else {\n    throw new Error(json.message);\n  }\n});\nexport const bookSlice = createSlice({\n  name: \"books\",\n  initialState: {\n    book: [],\n    pending: false,\n    success_message: '',\n    error: false,\n    error_message: ''\n  },\n  reducers: {},\n  extraReducers: {\n    //? States for authentication.\n    [fetchAllBooks.pending]: state => {\n      state.pending = true;\n    },\n    [fetchAllBooks.fulfilled]: (state, action) => {\n      state.pending = false;\n      state.book = [...state.book, ...action.payload.books];\n      state.success_message = action.payload.message;\n    },\n    [fetchAllBooks.rejected]: (state, action) => {\n      state.pending = false;\n      state.error = true;\n      console.log(\"error\", action.error.message);\n      state.error_message = action.error.message;\n    }\n  }\n});\nexport default bookSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","baseUrl","fetchAllBooks","page","response","fetch","method","headers","json","ok","Error","message","bookSlice","name","initialState","book","pending","success_message","error","error_message","reducers","extraReducers","state","fulfilled","action","payload","books","rejected","console","log","reducer"],"sources":["/Users/akarshjain/Desktop/bookoe/src/redux/Slices/bookSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nconst baseUrl = `http://localhost:4000/api/v1`;\n\n/**\n  * @asyncThunk Login function\n  * @desc manage the user state when user log-in\n  * @param  string $user - user state\n  * @return returns user data in case of success and in case of error return error message.\n*/\nexport const fetchAllBooks = createAsyncThunk(\n  \"books/getBooks\",\n  async (page) => {\n      const response = await fetch(`${baseUrl}/books/getBooks/?page=${page}&limit=6`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n\n    const json = await response.json();\n    if(response.ok){\n        return json;\n    }\n    else{\n        throw new Error(json.message);\n    }\n  }\n);\n\nexport const bookSlice = createSlice({\n  name: \"books\",\n  initialState: {\n    book: [],\n    pending: false,\n    success_message: '',\n    error: false,\n    error_message: ''\n  },\n  reducers: {},\n  extraReducers: {\n      //? States for authentication.\n      [fetchAllBooks.pending]: (state) => {\n          state.pending = true;\n      },\n      [fetchAllBooks.fulfilled]: (state, action) => {\n          state.pending = false;\n          state.book = [...state.book, ...action.payload.books];\n          state.success_message = action.payload.message;\n      },\n      [fetchAllBooks.rejected]: (state, action) => {\n          state.pending = false;\n          state.error = true;\n          console.log(\"error\", action.error.message);\n\n          state.error_message = action.error.message;\n      },\n  },\n});\n\n\nexport default bookSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AAEA,MAAMC,OAAO,GAAI,8BAAjB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,aAAa,GAAGH,gBAAgB,CAC3C,gBAD2C,EAE3C,MAAOI,IAAP,IAAgB;EACZ,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEJ,OAAQ,yBAAwBE,IAAK,UAAzC,EAAoD;IAC9EG,MAAM,EAAE,KADsE;IAE9EC,OAAO,EAAE;MACP,gBAAgB;IADT;EAFqE,CAApD,CAA5B;EAOF,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACI,IAAT,EAAnB;;EACA,IAAGJ,QAAQ,CAACK,EAAZ,EAAe;IACX,OAAOD,IAAP;EACH,CAFD,MAGI;IACA,MAAM,IAAIE,KAAJ,CAAUF,IAAI,CAACG,OAAf,CAAN;EACH;AACF,CAjB0C,CAAtC;AAoBP,OAAO,MAAMC,SAAS,GAAGZ,WAAW,CAAC;EACnCa,IAAI,EAAE,OAD6B;EAEnCC,YAAY,EAAE;IACZC,IAAI,EAAE,EADM;IAEZC,OAAO,EAAE,KAFG;IAGZC,eAAe,EAAE,EAHL;IAIZC,KAAK,EAAE,KAJK;IAKZC,aAAa,EAAE;EALH,CAFqB;EASnCC,QAAQ,EAAE,EATyB;EAUnCC,aAAa,EAAE;IACX;IACA,CAACnB,aAAa,CAACc,OAAf,GAA0BM,KAAD,IAAW;MAChCA,KAAK,CAACN,OAAN,GAAgB,IAAhB;IACH,CAJU;IAKX,CAACd,aAAa,CAACqB,SAAf,GAA2B,CAACD,KAAD,EAAQE,MAAR,KAAmB;MAC1CF,KAAK,CAACN,OAAN,GAAgB,KAAhB;MACAM,KAAK,CAACP,IAAN,GAAa,CAAC,GAAGO,KAAK,CAACP,IAAV,EAAgB,GAAGS,MAAM,CAACC,OAAP,CAAeC,KAAlC,CAAb;MACAJ,KAAK,CAACL,eAAN,GAAwBO,MAAM,CAACC,OAAP,CAAed,OAAvC;IACH,CATU;IAUX,CAACT,aAAa,CAACyB,QAAf,GAA0B,CAACL,KAAD,EAAQE,MAAR,KAAmB;MACzCF,KAAK,CAACN,OAAN,GAAgB,KAAhB;MACAM,KAAK,CAACJ,KAAN,GAAc,IAAd;MACAU,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBL,MAAM,CAACN,KAAP,CAAaP,OAAlC;MAEAW,KAAK,CAACH,aAAN,GAAsBK,MAAM,CAACN,KAAP,CAAaP,OAAnC;IACH;EAhBU;AAVoB,CAAD,CAA7B;AA+BP,eAAeC,SAAS,CAACkB,OAAzB"},"metadata":{},"sourceType":"module"}